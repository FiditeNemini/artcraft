# Nginx configs for "jungle.horse" and "api.jungle.horse" (http)
#
# On Ubuntu Linux, this config is located at the following location:
# 
#  - /etc/nginx/sites-enabled/{name-of-site}
#
# On Mac, this is located at the following locations:
#
#  - /opt/homebrew/etc/nginx/servers/{name-of-site} (for nginx installed with homebrew)
#  - /usr/local/etc/nginx/sites-enabled/{name-of-site} (for default nginx install)
#

# API backend over plain HTTP
server {
    listen 80;
    server_name api.jungle.horse;
    location / {
        proxy_set_header Host $host;
        proxy_pass http://127.0.0.1:12345;
        proxy_redirect off;
    }
}

# TODO(2022-02-13): This is new and untested
# WebSocket API backend over plain HTTP
server {
    listen 80;
    server_name ws.jungle.horse;
    location / {
        proxy_set_header Host $host;
        proxy_pass http://127.0.0.1:54321;
        proxy_redirect off;
    }
}

# Javascript frontend over plain HTTP
server {
    listen 80;
    server_name jungle.horse;
    location / {
        proxy_set_header Host $host;
        proxy_pass http://127.0.0.1:7000;
        proxy_redirect off;
    }
}

# TODO(2022-02-13): This is new and untested
# Javascript frontend #2 (OBS Layer) over plain HTTP
server {
    listen 80;
    server_name obs.jungle.horse;
    location / {
        proxy_set_header Host $host;
        proxy_pass http://127.0.0.1:7001;
        proxy_redirect off;
    }
}
