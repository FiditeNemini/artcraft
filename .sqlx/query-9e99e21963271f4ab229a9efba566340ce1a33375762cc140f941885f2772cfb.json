{
  "db_name": "MySQL",
  "query": "\nSELECT\n  distinct coalesce(w.token, w_old.token) as token,\n  mwuc.usage_count as maybe_previously_cached_model_use_count,\n  COUNT(*) as usage_count\nFROM\n    media_files as f\nLEFT OUTER JOIN model_weights as w\n   ON f.maybe_origin_model_token = w.token\nLEFT OUTER JOIN model_weights as w_old\n   ON f.maybe_origin_model_token = w_old.maybe_migration_old_model_token\nLEFT OUTER JOIN model_weight_usage_counts as mwuc\n   ON coalesce(w.token, w_old.token) = mwuc.token\n   AND mwuc.on_date = ?\nWHERE f.maybe_origin_model_token IS NOT NULL\n  AND f.created_at >= ?\n  AND f.created_at < ? + INTERVAL 1 DAY\nGROUP BY coalesce(w.token, w_old.token), mwuc.usage_count\nORDER BY usage_count DESC\n        ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "token",
        "type_info": {
          "type": "VarString",
          "flags": "BINARY",
          "char_set": 224,
          "max_size": 128
        }
      },
      {
        "ordinal": 1,
        "name": "maybe_previously_cached_model_use_count",
        "type_info": {
          "type": "Long",
          "flags": "MULTIPLE_KEY | UNSIGNED",
          "char_set": 63,
          "max_size": 10
        }
      },
      {
        "ordinal": 2,
        "name": "usage_count",
        "type_info": {
          "type": "LongLong",
          "flags": "NOT_NULL | BINARY",
          "char_set": 63,
          "max_size": 21
        }
      }
    ],
    "parameters": {
      "Right": 3
    },
    "nullable": [
      true,
      true,
      false
    ]
  },
  "hash": "9e99e21963271f4ab229a9efba566340ce1a33375762cc140f941885f2772cfb"
}
